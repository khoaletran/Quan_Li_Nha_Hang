<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="root" prefHeight="800.0" prefWidth="1400.0" styleClass="borderPane_main" stylesheets="@../CSS/tracuuhoadon.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ui.controllers.TraCuuHoaDonController">

    <!-- Trung tâm -->
    <center>
        <VBox spacing="10" styleClass="center-section">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>
            <VBox prefHeight="816.0" prefWidth="700.0" style="-fx-background-color: #efefef; -fx-background-radius: 20;">
                <children>
                    <HBox prefHeight="55.0" prefWidth="624.0" styleClass="tt_box">
                        <children>
                            <Label prefHeight="73.0" prefWidth="1056.0" styleClass="center-title" text="Danh Sách Hóa Đơn" />
                        </children>
                    </HBox>
                    <!-- Danh sách hóa đơn -->
                    <ScrollPane fitToWidth="true" prefWidth="668.0" styleClass="scroll-list" VBox.vgrow="ALWAYS">
                        <content>
                            <!-- Thêm fx:id cho VBox chứa danh sách để inject vào controller -->
                            <VBox fx:id="vbox_center_scroll" prefHeight="521.0" prefWidth="690.0" spacing="8" styleClass="vbox_center-scroll">
                                <padding>
                                    <Insets bottom="5" left="5" right="5" top="5" />
                                </padding>

                                <!-- Một thẻ đặt bàn (mẫu) -->
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="order-card">
                                    <StackPane style="-fx-background-radius: 10 0 0 10; -fx-overflow: hidden;">
                                        <ImageView fitHeight="60" fitWidth="60" preserveRatio="false">
                                            <image>
                                                <Image url="@../IMG/avatar.png" />
                                            </image>
                                        </ImageView>
                                    </StackPane>
                                    <VBox spacing="2">
                                        <Label styleClass="order-id" text="HD1210820250002" />
                                        <Label styleClass="order-phone" text="SDT: 0283765432" />
                                    </VBox>
                                </HBox>


                                <!-- Mẫu thẻ khác -->
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="order-card">
                                    <StackPane style="-fx-background-radius: 10 0 0 10; -fx-overflow: hidden;">
                                        <ImageView fitHeight="60" fitWidth="60" preserveRatio="false">
                                            <image>
                                                <Image url="@../IMG/avatar.png" />
                                            </image>
                                        </ImageView>
                                    </StackPane>
                                    <VBox spacing="2">
                                        <Label styleClass="order-id" text="HD1210820250002" />
                                        <Label styleClass="order-phone" text="SDT: 0283765432" />
                                    </VBox>
                                </HBox>

                            </VBox>
                        </content>
                        <VBox.margin>
                            <Insets bottom="10.0" />
                        </VBox.margin>
                    </ScrollPane>

                </children>
            </VBox>

            <!-- Bộ lọc và tìm kiếm -->
            <VBox prefHeight="162.0" prefWidth="624.0" spacing="8" styleClass="filter-box">
                <HBox prefHeight="100.0" prefWidth="200.0" style="-fx-background-color: white; -fx-background-radius: 20 20 28 28;">
                    <children>
                        <Label prefHeight="39.0" prefWidth="624.0" styleClass="filter-title" text="Bộ lọc" />
                    </children>
                </HBox>

                <GridPane hgap="10" prefHeight="98.0" prefWidth="614.0" style="-fx-padding: 10;" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="20.0" />
                        <ColumnConstraints percentWidth="30.0" />
                        <ColumnConstraints percentWidth="20.0" />
                        <ColumnConstraints percentWidth="30.0" />
                    </columnConstraints>
                    <!-- Hàng 1 -->
                    <Label styleClass="label_filter" text="Mã bàn:" GridPane.columnIndex="0" />
                    <!-- Thêm fx:id txtMaBan -->
                    <TextField fx:id="txtMaBan" prefHeight="21.0" prefWidth="360.0" promptText="Value" styleClass="filter-tf" GridPane.columnIndex="1" />

                    <Label styleClass="label_filter" text="Thời gian:" GridPane.columnIndex="2" />
                    <!-- Thay TextField bằng DatePicker -->
                    <DatePicker fx:id="dpThoiGian" prefHeight="28.0" prefWidth="220.0" promptText="Chọn ngày" styleClass="filter-tf" GridPane.columnIndex="3" />

                    <!-- Hàng 2 -->
                    <Label styleClass="label_filter" text="SDT:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <!-- Thêm fx:id txtSDT -->
                    <TextField fx:id="txtSDT" prefHeight="30.0" prefWidth="372.0" promptText="Value" styleClass="filter-tf" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="label_filter" text="Khu vực:" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                    <!-- Thêm fx:id cboKhuVuc -->
                    <ComboBox fx:id="cboKhuVuc" prefHeight="30.0" prefWidth="312.0" promptText="-- chọn --" styleClass="uudai_combobox filter-tf" GridPane.columnIndex="3" GridPane.rowIndex="1" />
                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                    <VBox.margin>
                        <Insets left="10.0" />
                    </VBox.margin>
                </GridPane>

                <!-- Hàng nút -->
                <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 10;">
                    <!-- Thêm fx:id cho 2 nút -->
                    <Button fx:id="btnXoaTrang" styleClass="btn-clear" text="Xóa trắng" />
                    <Button fx:id="btnTimKiem" styleClass="btn-search" text="Tìm kiếm" />
                    <VBox.margin>
                        <Insets top="10.0" />
                    </VBox.margin>
                </HBox>
            </VBox>
        </VBox>
    </center>

    <!-- Phần bên phải -->
    <right>
        <VBox prefWidth="360" spacing="10" styleClass="right-section">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <!-- Khối trắng chính -->
            <VBox prefHeight="765.0" prefWidth="320.0" spacing="15" style="-fx-background-color: F3F3F3;" styleClass="right-content">
                <!-- Tiêu đề -->
                <Label prefHeight="48.0" prefWidth="280.0" styleClass="title-right" text="Thông tin đặt bàn" />

                <!-- Form thông tin -->
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="40" />
                        <ColumnConstraints percentWidth="60" />
                    </columnConstraints>

                    <Label styleClass="label_infoOrder" text="Mã Hóa Đơn:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="txtMaHoaDon" editable="false" styleClass="filter-tf" text="HD1210820250001" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="label_infoOrder" text="Tên Khách Hàng:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <!-- thêm GridPane.rowIndex="1" -->
                    <TextField fx:id="txtTenKH" editable="false" styleClass="filter-tf" text="Trần Quốc Nhã" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="label_infoOrder" text="SDT:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <!-- thêm GridPane.rowIndex="2" -->
                    <TextField fx:id="txtSDTChiTiet" editable="false" styleClass="filter-tf" text="0398765432" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label styleClass="label_infoOrder" text="Bàn" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <TextField fx:id="txtBan" editable="false" styleClass="filter-tf" text="IN-4" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                    <Label styleClass="label_infoOrder" text="Số lượng:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                    <TextField fx:id="txtSoLuong" editable="false" styleClass="filter-tf" text="2" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                    <Label styleClass="label_infoOrder" text="Sự kiện:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                    <TextField fx:id="txtSuKien" editable="false" styleClass="filter-tf" text="Không có" GridPane.columnIndex="1" GridPane.rowIndex="5" />

                    <Label styleClass="label_infoOrder" text="Khu vực:" GridPane.columnIndex="0" GridPane.rowIndex="6" />
                    <TextField fx:id="txtKhuVuc" editable="false" styleClass="filter-tf" text="Trong nhà" GridPane.columnIndex="1" GridPane.rowIndex="6" />

                    <Label styleClass="label_infoOrder" text="Mô tả:" GridPane.columnIndex="0" GridPane.rowIndex="7" />
                    <TextArea fx:id="txtMoTa" prefHeight="76.0" prefRowCount="3" prefWidth="162.0" styleClass="textarea-custom" text="Giảm cay của các món ăn" GridPane.columnIndex="1" GridPane.rowIndex="7" />
                </GridPane>


                <!-- Bảng sản phẩm -->
                <!-- Thêm fx:id product_table và fx:id cho các TableColumn -->
                <TableView fx:id="product_table" prefHeight="150" styleClass="product-table">
                    <columns>
                        <TableColumn fx:id="colSanPham" maxWidth="70.0" prefWidth="70.0" text="Sản phẩm" />
                        <TableColumn fx:id="colSoLuong" maxWidth="60.0" prefWidth="60.0" text="Số Lượng" />
                        <TableColumn fx:id="colGia" maxWidth="75.0" prefWidth="75.0" text="Giá" />
                        <TableColumn fx:id="colTong" maxWidth="75.0" prefWidth="75.0" text="Tổng" />
                    </columns>
                </TableView>
                <VBox prefHeight="200.0" prefWidth="100.0">
                    <children>
                        <AnchorPane prefHeight="78.0" prefWidth="356.0" />
                        <HBox prefHeight="100.0" prefWidth="200.0">
                            <children>
                                <Pane prefHeight="100.0" prefWidth="88.0" />

                                <!-- fx:id confirm_btn -->
                                <Button fx:id="confirm_btn" prefWidth="110.0" styleClass="confirm-btn" text="In Hóa Đơn" />
                            </children>
                        </HBox>
                    </children>
                </VBox>
            </VBox>
        </VBox>
    </right>


</BorderPane>
