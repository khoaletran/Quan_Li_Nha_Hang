<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane style="-fx-background-color: D9D9D9;" stylesheets="@../CSS/qlmenu.css" xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1" fx:controller="ui.controllers.QLMenuController">


    <!-- Main content -->
    <center>
        <VBox spacing="20" styleClass="menu-bg" VBox.vgrow="ALWAYS">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20"/>
            </padding>

            <VBox style="-fx-background-color: efefef; -fx-background-radius: 20 20 28 28;" VBox.vgrow="ALWAYS">
                <children>

                    <!-- Thanh tìm kiếm -->
                    <!-- Thanh tìm kiếm -->
                    <HBox fx:id="menuSearchContainer"
                          alignment="CENTER_LEFT"
                          spacing="12"
                          prefHeight="80"
                          minHeight="80"
                          maxHeight="80"
                          styleClass="menu-search-container">

                        <!-- Hộp tìm kiếm với icon + TextField -->
                        <HBox alignment="CENTER_LEFT"
                              spacing="8"
                              styleClass="menu-search-box"
                              HBox.hgrow="ALWAYS"
                              prefHeight="40"
                              minHeight="40"
                              maxHeight="40">

                            <Label styleClass="search-icon" text="🔍"/>
                            <TextField fx:id="searchField"
                                       promptText="Tìm món ăn"
                                       styleClass="search-field"
                                       HBox.hgrow="ALWAYS"
                                       prefHeight="40"
                                       minHeight="40"
                                       maxHeight="40"/>
                        </HBox>

                        <!-- ComboBox lọc loại món -->
                        <ComboBox fx:id="cboLoaiMonFilter"
                                  prefWidth="180"
                                  promptText="Chọn Loại Món"/>

                        <!-- Nút thêm mới -->
                        <Button onAction="#addMon"
                                styleClass="menu-add-btn"
                                text="+"/>
                    </HBox>

                    <!-- Lưới món ăn -->
                    <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="menu-scroll" VBox.vgrow="ALWAYS">
                        <content>
                            <FlowPane fx:id="flowMonAn" alignment="CENTER" hgap="80" prefWrapLength="1200"
                                      styleClass="menu-grid" vgap="30"/>
                        </content>
                    </ScrollPane>
                </children>
            </VBox>
        </VBox>
    </center>

    <!-- Phần bên phải: Thông tin chi tiết món -->
    <right>
        <VBox prefWidth="380" spacing="20" styleClass="dish-details-section" HBox.hgrow="ALWAYS">
            <!-- Tiêu đề -->
            <Label prefHeight="64.0" prefWidth="300.0" styleClass="main-title" text="Thông Tin Món"/>

            <!-- Form thông tin -->
            <VBox prefHeight="652.0" prefWidth="480.0" spacing="15" styleClass="info-form-section">
                <GridPane hgap="20" styleClass="info-grid" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="30"/>
                        <ColumnConstraints percentWidth="70"/>
                    </columnConstraints>

                    <!-- Mã món -->
                    <Label styleClass="form-label" text="Mã Món:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblMaMon" style="-fx-pref-width: 140" styleClass="form-value" text=""
                           GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <!-- Tên món -->
                    <Label styleClass="form-label" text="Tên Món:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <TextField fx:id="txtTenMon" promptText="Nhập tên món" styleClass="form-input"
                               GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <!-- Mô tả -->
                    <Label styleClass="form-label" text="Mô Tả:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <TextField fx:id="txtMoTa" promptText="Nhập mô tả món" styleClass="form-input"
                               GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <!-- Giá gốc -->
                    <Label styleClass="form-label" text="Giá Gốc:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <TextField fx:id="txtGiaGoc" promptText="Nhập giá gốc" styleClass="form-input"
                               GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                    <!-- Số lượng -->
                    <Label styleClass="form-label" text="Số Lượng:" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                    <TextField fx:id="txtSoLuong" promptText="Nhập số lượng" styleClass="form-input"
                               GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                    <!-- Loại món -->
                    <Label styleClass="form-label" text="Loại Món:" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                    <ComboBox fx:id="cboLoaiMon" promptText="Chọn loại món" styleClass="form-combo"
                              GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                    <!-- Hình ảnh món -->
                    <Label styleClass="form-label" text="Hình Ảnh:" GridPane.columnIndex="0" GridPane.rowIndex="6"/>

                    <!-- ImageView hiển thị ảnh, có thể click để chọn -->
                    <HBox fx:id="vboxHinh" alignment="CENTER" spacing="40.0" GridPane.columnIndex="1"
                          GridPane.rowIndex="6">
                        <ImageView fx:id="imgMon" cache="true" fitHeight="100" fitWidth="100" onMouseClicked="#chonAnh"
                                   preserveRatio="true" smooth="true"/>
                        <Button fx:id="btnChonAnh" onAction="#chonAnh" text="Chọn ảnh"/>
                    </HBox>


                    <rowConstraints>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints minHeight="10.0" prefHeight="120.0"/>
                    </rowConstraints>
                </GridPane>
            </VBox>

            <!-- Nút hành động -->
            <HBox spacing="10" styleClass="right-action-buttons">
                <Button fx:id="btnXacNhan" onAction="#xacNhan" styleClass="confirm-btn" text="Xác Nhận"/>
                <!-- <Button fx:id="btnXoa" styleClass="delete-btn" text="Xoá" /> -->
            </HBox>
        </VBox>
    </right>

</BorderPane>
